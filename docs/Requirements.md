# トレンドマッチシステム機能仕様書

## システムプログラミングG2　メンバー
+ E16-5405 小野瑞貴
+ E16-5413 古田龍将
+ E16-5414 松原未和
+ E16-5416 渡辺みどり


## 改版履歴
発行日|版数|改版内容
---|---|---
2018/11/14|1.0|初版
2018/11/16|1.1|更新日時から改版履歴へ変更.<br>5.3.4の表の修正



## 1.システムの概要
本システムは,就活を始める人を対象とし,自己分析と分析結果をもとにした社会人等とのマッチングを行う.

## 2.システムの目的
従来システムでは,職種をもとにOBOG等とマッチングするシステムが多い.
本システムでは,自己分析をもとにしたマッチングを行うため,より自分の性格・思考と類似した人の進路を知ることができ,元来欲している情報を得ることができる.

## 3.用語の定義
 |用語|説明|
 |---|---|
 |ユーザー|本システムに登録し,利用する人の総称|
 |管理者| 本システムの維持,運営をするユーザー|
 |学生ユーザー| 就職活動を行うために本システムを利用するユーザー|
 |社会人ユーザー| 学生ユーザーの就職支援を行うために本システムを利用するユーザー|
 |利用者|学生ユーザーと社会人ユーザーの総称|
 |アカウント情報|本システムにおいて他のユーザーに公開する情報|
 |所属|現在,ユーザーが属している学校名または企業名|
 |フリースペース|ユーザーが自己PRのために自由記述できるスペース|
 |自己分析|本システム上で行う就職活動に関する適性検査|
 |類似度|2者の自己分析結果を比較した際の一致している割合|
 |マッチング| 自己分析結果の類似度の高い学生ユーザーと社会人ユーザーを結びつけること|


## 4.アクター
* 利用者：利用者の機能(5.1)と共通機能(5.3)が使用できる.利用者は以下の2つに分けられる.
    * 学生ユーザー
    * 社会人ユーザー
* 管理者：管理者の機能(5.2)と共通機能(5.3)が使用できる.

## 5.機能要求

### 5.1 利用者の機能
##### 5.1.1 ユーザー情報の登録
理由：
+ 登録を行ったユーザーのみがシステムを利用できるようにするため.

説明：
+ メールアドレス,パスワード,氏名,卒業年度を入力し,ユーザー登録ができる.
+ 下記にユーザー登録をする際の制約を記す.

| 登録名 | データ形式 | 文字入力数 |その他制約|
| ---- | ---- | ---- | ---- |
|メールアドレス(ユーザーID)|半角英数字|40以下|unique,not null|
|パスワード|半角英数字|8以上20以下|not null|
|氏名|半角文字,全角文字|20以下|スペースなしで入力,not null|
|卒業年度|半角数字|4文字|西暦で入力,not null|


##### 5.1.2 ユーザー情報の編集
理由：
+ 登録したユーザー情報を編集できるようにするため.

説明：
+ 登録したユーザー情報の全項目を編集することができる.
+ ユーザーを編集する際の制約は上記(ユーザー情報の登録)と同様.

##### 5.1.3 ユーザー情報の削除
理由：
+ 不要になった際にはユーザー情報を削除できるようにするため.

説明：
+ 登録したユーザー情報を削除することができる.


##### 5.1.4 アカウント情報の登録
理由：
 + 検索やマッチングを行う際にユーザーの情報を利用することができるようにするため.　　

説明：
 + アカウントID,ニックネーム,卒業年度,所属,職種,性別,連絡先,フリースペースを設定し,入力する. 
+ 下記にユーザーアカウントの登録をする際の制約を記す.

| 登録名 | データ形式 | 文字入力数 | その他制約 |
| ---- | ---- | ---- | ---- |
| ニックネーム|半角文字,全角文字|10以下|not null,デフォルトの場合はユーザー情報で登録した氏名が表示|
| 所属|半角文字,全角文字|20以下||
| 職種|半角数字| - |職種の種類分だけ数字を用意(可変) |
| 性別 | 半角数字| 1 |男:1,女:2,選択しない:0|
| 連絡先 | 半角文字 | 40以下 ||
| フリースペース | 半角文字,全角文字 | 200以下 ||

 
なお職種に関しては, 
学生の場合は
+ 学部生
+ 大学院生 

社会人の場合は
+ 農林・水産
+ 林業
+ 漁業
+ 鉱業
+ 建設業
+ 製造業
+ 電気・ガス
+ 運輸・通信業
+ 卸売・小売・飲食業
+ 金融・保険業
+ 不動産業
+ サービス業
+ その他 

より選択する. 

(引用 [業種一覧表](https://www.chukei-news.co.jp/publication/chubunenkan-regist/type.pdf) より大項目を参照) 
 
##### 5.1.5 アカウント情報の編集
理由：
 + 登録したアカウント情報に変更がある場合に登録内容を書き換えることができるようにするため.
 
 説明：
 + 登録したアカウント情報の全項目を編集することができる.
 + 編集時の制約は上記と同じ.


##### 5.1.6 アカウント情報の削除
理由：
 + このシステムから退会する等アカウントが不要になった際,削除できるようにするため.

説明：
 + 登録したアカウント情報を削除することができる.
 + 手動での実行は不可.
 + ユーザー情報の削除が行われた場合,この機能も自動で実行される.




##### 5.1.7 自己分析の実施
理由：
+ 利用者のシステムの利用および就職活動に役立てるため(要編集).

説明：
+ 一覧表示された質問に回答し,ユーザーは自己分析を行うことができる.
+ 質問事項,回答方法は後日決定(11/12現在).

##### 5.1.8 自己分析結果の作成
理由：
+ 任意の実施した自己分析結果を見られるようにするため.

説明：
+ 実施した自己分析の結果を保存することができる.

##### 5.1.9 自己分析結果の閲覧
理由：
+ 実施した自己分析結果を閲覧できるようにするため.

説明：
+ 実施した自己分析結果を閲覧することができる.



##### 5.1.10 マッチング閲覧
理由：
- ユーザーの自己分析結果からマッチング作業を行い,その結果を表示するため.

説明：
- ユーザーの情報からデータベース合致する情報をマッチングする.
- マッチング順については要検討
- リストとするかも要検討

登録名| データ形式 | 文字入力数 |　その他制約
--|---|---|--
ニックネーム|全角半角文字| 10字以下 |  |
|卒業年度  | 半角数字   | 4文字  | 
|所属  | 半角文字,全角文字 | 20文字以下  | 
| 職種|半角数字| - |職種の種類分だけ数字を用意(可変) |
| 性別 | 半角数字| 1 |男:1,女:2,選択しない:0|
| 類似度  | 半角数字 | 0~100 |   ユーザーとの類似度
| フリースペース |全角半角文字|  20字以下 |   |

##### 5.1.11 ダイレクトメッセージ機能
 理由：
 + 本システム上でユーザー同士が連絡を取れるようにするため.
 
 説明：
 + ユーザー同士が本システム内でメッセージの送受信ができる.

##### 5.1.12 通報
理由：
+ 不適切なアカウント等を発見した際に管理者に知らせるため.

説明：
+ 不適切なアカウント等を発見した際に当該アカウント画面から管理者に知らせる.

### 5.2 管理者の機能
##### 5.2.1 アカウント削除
理由：
+ 不適切なアカウントを削除するため.

説明：
 + 不適切なアカウントを削除する.

##### 5.2.2 一斉連絡
理由：
+ 全ユーザーに一度にメッセージを送ることができるようにするため. 

説明：
+ 全ユーザーに対して一斉連絡を行う.

### 5.3 共通機能

#####  5.3.1 ログイン 
理由：
+ 許可されたユーザーのみ,システムの機能を使用することができるようにするため. 

説明：
+ ユーザーは登録後にログインを行うことができる.利用者,管理者はIDとパスワードを入力し,認証を受けることでシステムに接続される.

##### 5.3.2 ログアウト 
理由：
+ ユーザーのコンピュータを用いる,もしくはXSSやネットワークの盗聴によって,他者がユーザーの保持しているセッションに再接続し,セッションを乗っ取ることを防ぐため. 

説明：
+ システムへの接続を終了する. 


##### 5.3.3 アカウント情報の閲覧
理由：
 + 自分自身のアカウント情報や,検索やマッチングを行った際に当該アカウントの詳細を知ることができるようにするため.

説明：
+ 自分と他人のアカウント情報を閲覧することができる.

##### 5.3.4 アカウント検索

理由:

- 特定の情報から他のアカウントを探すため.

説明:
- 以下の情報をユーザーは記入し検索をかける.

 登録名 |  データ形式 | 文字入力数 | その他制約
---|---|---|---
ニックネーム|全角半角文字| 10字以下 | を含む検索
|卒業年度  | 半角数字   |  4文字 | 
| 所属|半角文字,全角文字|20以下|
| 職種|半角数字| - |職種の種類分だけ数字を用意(可変) |
| 性別 | 半角数字| 1 |男:1,女:2,選択しない:0|
|フリースペース | 全角半角文字 | 20字以下 | を含む検索
| 表示順  |半角数字 | １文字 |not null 

##### 5.3.5 アカウント一覧表示
理由：
- アカウントをリストとして表示するため.

説明：
- 以下の情報をリストとして表示する.
- また上記のアカウント検索を同じ画面に表示し,使用できるようにする.

登録名|  データ形式 | 文字入力数 |　その他制約
---|---|---|---
ニックネーム|全角半角文字|  10字以下 |  |
|卒業年度  | 半角数字  |  4文字 | 
| 所属|半角文字,全角文字|20以下||
| 職種|半角数字| - |職種の種類分だけ数字を用意(可変) |
| 性別 | 半角数字| 1 |男:1,女:2,選択しない:0|
| 類似度  | 半角数字 | 0~100 |   ユーザーとの類似度
| フリースペース |全角半角文字|  20字以下 |   |




## 6. 非機能要求
### 6.1 セキュリティ対策

#### 6.1.1 XSS対策
理由：
+ 攻撃者によって利用者が偽ページに誘導され,個人情報等を抜き取られないようにするため.

説明：
+ IPAの安全なwebサイトの作り方を参照し,セキュリティ実装の状況を随時確認する.運用時は定期的にセキュリティ監査を行う.

#### 6.1.2 ロールベースアクセス制御
理由：
+ 認められたユーザのシステムアクセスを制御するため.

説明：
+ 「ユーザー」にはユーザーの機能を使用する権限を,「管理者」にはユーザーの機能及び管理者の機能を使用する権限を与える.この権限をもとに,ユーザ情報に格納していく.このとき,権限を追加しやすくするためにロール値に余裕を持たせて設計する.

#### 6.1.3 url直打ちでのJSPファイルへのアクセス禁止
理由：
+ ユーザー以外の者が本来アクセスすることのできないページにアクセスすることを防ぐため. 

説明：
+ ユーザー以外の者が本来アクセスすることができないページにurl直打ちでアクセスしようとした際には,そのurlを保持し,アクセスするための認証画面へ遷移させる.認証が完了すれば保持しているurlを返す.

#### 6.1.4 タイムアウト時間の設定
理由：
+ タイムアウトする前に他者が保持されているセッションに,ユーザーのコンピュータを用いる,もしくはXSSやネットワークの盗聴によって,再接続され,セッションを乗っ取られることを防ぐため.

説明：
+ セッションの保持時間は30分に設定する.
